# Invalid recursion: recursive call does not decrease

import prelude as P

module test::typecheck::recursion_non_decreasing contains
  define transparent bad as
    function xs (List Natural) returns Natural value
      match xs of-type (List Natural) as ignored returns Natural
        case List::empty as 0
        case List::cons with h Natural t (List Natural) as
          P::add-nat h (recur xs)
      end
    end
end
