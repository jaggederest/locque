# Test error when no instance exists

import type_aliases as Types

module test::typecheck::typeclass_no_instance contains

  define transparent Show as typeclass A of-kind Type0 where
    show of-type (Types::Function A String)
  end

  # Only instance for Natural, NOT for String
  define transparent Show-Natural as instance Show Natural where
    show as function x Natural returns String value
      "nat"
    end
  end

  define transparent show-string as
    function x String requires Show String returns String value
      show x
    end

  # This should fail - no instance of Show for String
  define transparent bad as
    show-string "hello"

  define transparent main as compute
    return bad
  end
end
