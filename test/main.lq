# Main test entry point
# Runs all test modules

import test.features.basics as Basics
import test.features.file_io as FileIO
import test.features.lambda as Lambda
import test.features.fold as Fold
import test.features.match as Match
import test.features.let_binding as LetBinding
import test.features.primitives as Primitives
import test.features.imports as Imports
import test.features.arithmetic as Arithmetic
import test.features.comparison as Comparison
import test.features.new_primitives as NewPrimitives
import test.features.string_utils as StringUtils
import test.features.match_semantics as MatchSemantics

import test.typecheck.simple as TSimple
import test.typecheck.mono as TMono
import test.typecheck.primitives as TPrimitives
import test.typecheck.match as TMatch
import test.typecheck.fold_inline as TFoldInline
import test.typecheck.opaque_import as TOpaqueImport

import Prelude as P

module TestMain contains
  define transparent main as computation
    # Feature tests
    bind _ <- Basics.main then
    bind _ <- FileIO.main then
    bind _ <- Lambda.main then
    bind _ <- Fold.main then
    bind _ <- Match.main then
    bind _ <- LetBinding.main then
    bind _ <- Primitives.main then
    bind _ <- Imports.main then
    bind _ <- Arithmetic.main then
    bind _ <- Comparison.main then
    bind _ <- NewPrimitives.main then
    bind _ <- StringUtils.main then
    bind _ <- MatchSemantics.main then

    # Type checker tests
    bind _ <- TSimple.main then
    bind _ <- TMono.main then
    bind _ <- TPrimitives.main then
    bind _ <- TMatch.main then
    bind _ <- TFoldInline.main then
    bind _ <- TOpaqueImport.main then

    return P.tt
end
