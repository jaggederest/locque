# Migrated from ../01_file_io.lq

import io as IO
import prelude as P
import assert as A

module LFileIO contains

  define transparent roundtrip as computation
    bind perform io (IO.write-file "test/tmp/test_tmp.txt" "abc") as _ then
    bind perform io (IO.read-file "test/tmp/test_tmp.txt") as contents then
    bind perform io (A.assert-eq-string contents "abc") as _ then
    return P.tt

  define transparent main as computation
    bind roundtrip as _ then
    return P.tt
end
