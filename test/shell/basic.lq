import prelude as P
# Test: Basic shell primitive functionality

import shell as S
import string as Str
import assert as A
import typeclass::equality as Eq

open A exposing assert-eq end
open Eq exposing Equality end

module test::shell::basic contains
  define transparent test-echo as compute
    bind output from perform (S::shell "echo hello") then
      perform (assert-eq String (Str::trim output) "hello")
    end
  end

  define transparent main as compute
    perform (P::sequence-unit
      [
        test-echo
      ])
  end
end
