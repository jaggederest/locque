# Test: Comment syntax for M-expr
# This file tests that M-expr comments work correctly
# Line comments start with #
# Block comments use /* */

import Prelude as P
import Assert as A
import IO as IO

module CommentsTest contains

  # This is a line comment
  define transparent test-line-comment as computation
    # Comments can appear anywhere
    bind x <- return 1 then # Even at end of line
    bind _ <- perform io (A.assert-eq-nat x 1) then
    return P.tt

  /*
  This is a block comment
  It can span multiple lines
  */
  define transparent test-block-comment as computation
    bind y <- return /* inline comment */ 2 then
    bind _ <- perform io (A.assert-eq-nat y 2) then
    return P.tt

  define transparent main as computation
    bind _ <- perform io test-line-comment then
    perform io test-block-comment

end
