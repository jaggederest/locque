# Test: Comment syntax for M-expr
# This file tests that M-expr comments work correctly
# Line comments start with #
# Block comments use /* */

import assert as A

module test::syntax::comments contains
  # This is a line comment
  define transparent test-line-comment as compute
    # Comments can appear anywhere
    bind x from return 1 then # Even at end of line
      sequence
        (A::assert-eq-nat x 1)
      end
    end
  end

  /*
  This is a block comment
  It can span multiple lines
  */
  define transparent test-block-comment as compute
    bind y from return /* inline comment */ 2 then
      sequence
        (A::assert-eq-nat y 2)
      end
    end
  end

  define transparent main as compute
    sequence
      test-line-comment
      test-block-comment
    end
  end
end
