# Test: Comment syntax for M-expr
# This file tests that M-expr comments work correctly
# Line comments start with #
# Block comments use /* */

import prelude as P
import assert as A
import io as IO

module LCommentsTest contains

  # This is a line comment
  define transparent test-line-comment as computation
    # Comments can appear anywhere
    bind return 1 as x then # Even at end of line
    bind perform io (A.assert-eq-nat x 1) as _ then
    return P.tt

  /*
  This is a block comment
  It can span multiple lines
  */
  define transparent test-block-comment as computation
    bind return /* inline comment */ 2 as y then
    bind perform io (A.assert-eq-nat y 2) as _ then
    return P.tt

  define transparent main as computation
    bind perform io test-line-comment as _ then
    perform io test-block-comment

end
